(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{314:function(t,s,a){"use strict";a.r(s);var n=a(16),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"创建模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建模块"}},[t._v("#")]),t._v(" 创建模块")]),t._v(" "),a("h2",{attrs:{id:"说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),a("p",[t._v("想要实现快速创建模块，离不开代码生成器~")]),t._v(" "),a("p",[t._v("大部分代码生成器都是根据数据库的表结构信息来生成项目代码，而本框架的代码生成器有些不一样，它是先设计实体然后生成数据库以及项目代码，这样设计的目的主要是因为当需要开发一个新的模块的时候，团队要聚在一起讨论实体模型，大部分都是采用 Excel 文件或者 Word 文件来记录，讨论完成后发送给各个人员。个人觉得这样不是很友好，每次修改一个实体，都要重新发送最新文件给其他人员。")]),t._v(" "),a("p",[t._v("所以，为了可以方便的查看项目信息和实体信息，便开发了 Web 版的代码生成器，把代码生成器项目部署到公司的内网环境，这样就能随时在线查看修改了~")]),t._v(" "),a("p",[t._v("当然，上面的方式仅适合新项目，如果是已有数据库了，还是要根据数据库来生成项目文件的，不过暂时还没做这个功能，目前代码生成器只能算是 1.0 版本，距离我最终想要的版本还有很大距离，比如可视化拖拽配置前端页面等等，任重而道远~")]),t._v(" "),a("h2",{attrs:{id:"_1、添加项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、添加项目"}},[t._v("#")]),t._v(" 1、添加项目")]),t._v(" "),a("p",[t._v("打开代码生成器中的项目列表，点击添加按钮，填写模块名称、编码")]),t._v(" "),a("nm-img",{attrs:{id:"20190918152255"}}),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("h4",{attrs:{id:"note"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note"}},[t._v("#")]),t._v(" Note")]),t._v(" "),a("p",[t._v("如果您使用的是自己发布后的包，并修改了包命名空间的前缀，请填写您自己的前缀名称")])]),t._v(" "),a("h2",{attrs:{id:"_2、添加实体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、添加实体"}},[t._v("#")]),t._v(" 2、添加实体")]),t._v(" "),a("p",[t._v("点击项目列表的实体按钮")]),t._v(" "),a("nm-img",{attrs:{id:"20190918152725"}}),t._v(" "),a("p",[t._v("点击添加实体按钮")]),t._v(" "),a("nm-img",{attrs:{id:"20190918152831"}}),t._v(" "),a("p",[t._v("填写 类名、表名、基类类型和备注")]),t._v(" "),a("p",[t._v("实体基类类型包括")]),t._v(" "),a("blockquote",[a("p",[t._v("IEntity 不包含任何属性")])]),t._v(" "),a("blockquote",[a("p",[t._v("Entity 继承自 IEntity，包含 Id 属性")])]),t._v(" "),a("blockquote",[a("p",[t._v("EntityBase 继承自 Entity，包含 Id、CreatedBy(创建人)、CreatedTime(创建时间)、ModifiedBy(修改人)、ModifiedTime(修改时间)属性，以及 Creator(创建人名称)、Modifier(修改人名称)两个扩展属性")])]),t._v(" "),a("blockquote",[a("p",[t._v("EntityWithSoftDelete 继承自 IEntity，包含 Id、Deleted(已删除)、DeletedTime(删除时间)、DeletedBy(删除人编号)属性，以及 Deleter(删除人)扩展属性")])]),t._v(" "),a("blockquote",[a("p",[t._v("EntityBaseWithSoftDelete 继承自 EntityWithSoftDelete，除了包含软删除的属性外，还包含了 EntityBase 的属性")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("h4",{attrs:{id:"note-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note-2"}},[t._v("#")]),t._v(" Note")]),t._v(" "),a("p",[t._v("以上实体基类类型，除了 IEntity 以外，全部支持四种主键类型：Int、Long、Guid、String")])]),t._v(" "),a("p",[t._v("基础方法可以选择生成代码时，需要生成哪些方法，保存~")]),t._v(" "),a("h2",{attrs:{id:"_3、添加属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、添加属性"}},[t._v("#")]),t._v(" 3、添加属性")]),t._v(" "),a("p",[t._v("点击刚刚添加的 Article 实体名称，配置实体的属性")]),t._v(" "),a("nm-img",{attrs:{id:"20190918154356"}}),t._v(" "),a("p",[t._v("创建实体的时候，会默认创建实体基类的属性信息，会有一个星号标注，这些属性是无法修改编辑的~")]),t._v(" "),a("p",[t._v("点击添加按钮添加属性，填写对应信息即可~")]),t._v(" "),a("nm-img",{attrs:{id:"20190918154625"}}),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("h4",{attrs:{id:"note-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note-3"}},[t._v("#")]),t._v(" Note")]),t._v(" "),a("p",[t._v("如果属性时枚举类型，需要先添加枚举，然后再添加属性的时候类型选择枚举并绑定")])]),t._v(" "),a("h2",{attrs:{id:"_4、配置实体模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置实体模型"}},[t._v("#")]),t._v(" 4、配置实体模型")]),t._v(" "),a("p",[t._v("返回实体列表，选择刚刚添加的 Article 实体，点击模型按钮")]),t._v(" "),a("nm-img",{attrs:{id:"20190918155141"}}),t._v(" "),a("p",[t._v("目前包括三种模型，查询、添加、修改，模型的属性可以手动添加，也可以从实体中导入")]),t._v(" "),a("nm-img",{attrs:{id:"20190918155254"}}),t._v(" "),a("h2",{attrs:{id:"_5、生成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、生成"}},[t._v("#")]),t._v(" 5、生成")]),t._v(" "),a("p",[t._v("当把需要的实体和属性配置完成后，返回项目列表，点击生成代码，会自动生成并下载代码文件")]),t._v(" "),a("p",[t._v("加压后目录结构如下：")]),t._v(" "),a("nm-img",{attrs:{id:"20190918155614"}}),t._v(" "),a("p",[t._v("里面已经包含了数据库文件以及前后端代码")]),t._v(" "),a("h2",{attrs:{id:"_6、创建数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、创建数据库"}},[t._v("#")]),t._v(" 6、创建数据库")]),t._v(" "),a("p",[t._v("编辑"),a("code",[t._v("db.json")]),t._v("配置文件，默认采用 SQLite 数据库，并且开启了自动创建数据库和表功能，其他数据库可自行修改，如果需要 Admin 模块的数据，可从根目录的 data 目录中拷贝到 WebHost 的 debug 目录")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否开启日志")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Logging"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库类型 0、SqlServer 1、MySql 2、SQLite")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Dialect"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库版本")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库地址")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Server"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//端口号")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户名")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"UserId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//密码")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Password"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否创建数据库和表")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"CreateDatabase"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模块列表")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Modules"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模块名称")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Admin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据库名称")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Database"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Nm_Admin"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Blog"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Database"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Nm_Blog"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("h4",{attrs:{id:"note-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note-4"}},[t._v("#")]),t._v(" Note")]),t._v(" "),a("p",[t._v("因为所有模块都依赖于 Admin 模块，所以也需要配置 Admin 模块的数据库连接信息")])]),t._v(" "),a("h2",{attrs:{id:"_7、升级包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、升级包"}},[t._v("#")]),t._v(" 7、升级包")]),t._v(" "),a("p",[t._v("代码生成器没有办法保证生成的代码中引用的 Nuget 都是最新版本的，所以需要手动取更新下包版本")]),t._v(" "),a("h2",{attrs:{id:"_8、运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、运行"}},[t._v("#")]),t._v(" 8、运行")]),t._v(" "),a("p",[t._v("剩下的与 "),a("router-link",{attrs:{to:"/guide/GetingStart.html"}},[t._v("快速启动")]),t._v("里面是一样的~")],1)],1)}),[],!1,null,null,null);s.default=e.exports}}]);